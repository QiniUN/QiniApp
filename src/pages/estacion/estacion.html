<ion-header>
  <ion-navbar>
    <ion-title>
      Estacion 26
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-card>
    <img src="assets/imgs/anonymous.jpg"/>
    <ion-card-content>
      <ion-card-title [hidden]="esperaActual == null">
        Espera actual: <i>{{esperaActual}} minutos</i>
      </ion-card-title>
      <ion-card-title [hidden]="esperaActual != null">
        En espera de datos
      </ion-card-title>
      <ion-list>
        <ion-item>
          Hora <p float-right>{{franja}}</p>
        </ion-item>
        <ion-item>
          Espera promedio: <p float-right>{{esperaPromedio}} minutos</p>
        </ion-item>
        <ion-item>
          Fila:
          <p [hidden]="fila == null" float-right>{{fila}} personas</p>
          <p [hidden]="fila != null" float-right>Esperando datos</p>
        </ion-item>
        <ion-item>
          Ciclas: <p float-right>{{ciclas}} ciclas</p>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-content>
      <ion-card-title>
        Ayúdanos
      </ion-card-title>
      <ion-list>
        <ng-container *ngIf="count == undefined">
          <ion-item [hidden]="counting">
            Estoy en fila:
            <button  ion-button item-end icon-left (click)="startStopwatch($event)">
              <ion-icon name="stopwatch"></ion-icon>
              Contar
            </button>
          </ion-item>
          <ion-item [hidden]="!counting">
            Terminé:
            <button ion-button item-end icon-left (click)="stopStopwatch($event)" color="danger">
              <ion-icon name="stopwatch"></ion-icon>
              Detener
            </button>
          </ion-item>
        </ng-container>
        <ng-container *ngIf="count != undefined">
          <ion-item>{{count}} minutos</ion-item>
        </ng-container>
        <ion-item>
          <label>Fila:</label>
          <input type="number" min="0" max="50" float-right [(ngModel)]="queue" />
        </ion-item>
        <ion-item>
          <label>Atendiendo:</label>
          <input type="number" min="0" max="50" float-right [(ngModel)]="server"/>
        </ion-item>

      </ion-list>
      <button [hidden]="count == undefined || queue == undefined || server == undefined" ion-button full (click)="sendForm($event)" color="secondary">Enviar</button>
      <button [hidden]="count != undefined && queue != undefined && server != undefined" ion-button full color="light">Enviar</button>
    </ion-card-content>
  </ion-card>


</ion-content>
