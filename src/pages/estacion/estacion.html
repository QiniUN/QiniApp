<ion-header>
  <ion-navbar>
    <ion-title>
      {{nombreEstacion}}
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-card>
    <img src="assets/imgs/{{id}}.jpg"/>
    <ion-card-content>
      <ion-card-title>
        Espera actual: <i id="esperaActual">En espera de datos</i>
      </ion-card-title>
      <ion-list>
        <ion-item>
          Hora <p float-right>{{franja}}</p>
        </ion-item>
        <ion-item>
          Espera promedio: <p float-right>{{esperaPromedio}} minutos</p>
        </ion-item>
        <ion-item>
          Fila:
          <p id="filaActual" float-right>Esperando datos</p>
        </ion-item>
        <ion-item>
          Ciclas: <p float-right>{{ciclas}} ciclas</p>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-content id="toSendForm">
      <ion-card-title>
        Ayúdanos
      </ion-card-title>
      <ion-list>
        <ion-item id="queueTime">
          Tiempo en fila: <p float-right id="queueTimeP">{{countQueue}} minutos</p>
        </ion-item>
        <ion-item id="serverTime">
          Tiempo en <br />ser atendido: <p float-right id="serverTimeP">{{countServer}} minutos</p>
        </ion-item>
        <ion-item id="counting1">
          Estoy en fila:
          <button  ion-button item-end icon-left (click)="startStopwatchQueue($event)">
            <ion-icon name="stopwatch"></ion-icon>
            Contar fila
          </button>
        </ion-item>
        <ion-item id="counting2" style="display: none;">
          Terminé la fila:
          <button ion-button item-end icon-left (click)="stopStopwatchQueue($event)" color="danger">
            <ion-icon name="stopwatch"></ion-icon>
            Contar servicio
          </button>
        </ion-item>
        <ion-item id="counting3" style="display: none;">
          Me atendieron:
          <button ion-button item-end icon-left (click)="stopStopwatchServer($event)" color="danger">
            <ion-icon name="stopwatch"></ion-icon>
            Detener
          </button>
        </ion-item>

        <ion-item>
          <label>Fila:</label>
          <input type="number" min="0" max="50" float-right [(ngModel)]="queue" (change)="checkForButton($event )"/>
        </ion-item>
        <ion-item>
          <label>Atendiendo:</label>
          <input type="number" min="0" max="50" float-right [(ngModel)]="server" (change)="checkForButton($event)"/>
        </ion-item>

      </ion-list>
      <button id="activeBtn" ion-button full (click)="sendForm($event)" color="secondary">Enviar</button>
      <button id="inactiveBtn" ion-button full color="light">Enviar</button>
    </ion-card-content>

    <ion-card-content id="sendedForm">
      <ion-card-title>
        Hemos recibido tu información, gracias
      </ion-card-title>
    </ion-card-content>
  </ion-card>


</ion-content>
